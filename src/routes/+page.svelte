<script lang="ts">
	import EventCard from '$lib/components/EventCard.svelte';
	import CityCard from '$lib/components/CityCard.svelte';
	import PlatformManifest from '$lib/components/PlatformManifest.svelte';
	import { getEventsByCity } from '$lib/data/mock';

	let { data } = $props();
</script>

<svelte:head>
	<title>Liberty Bureau ‚Äî –¢–≤–æ—Ä—á–µ—Å–∫–∏–µ –∏–≤–µ–Ω—Ç—ã –∏ –º–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å—ã</title>
</svelte:head>

<!-- Hero Section -->
<section class="relative overflow-hidden bg-gradient-to-br from-lavender-100 via-white to-lavender-50">
	<div class="max-w-7xl mx-auto px-4 py-20 md:py-32">
		<div class="max-w-2xl">
			<p class="text-sm font-medium text-brand mb-4 tracking-wider uppercase">–ú–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω–∞—è —Å–µ—Ç—å</p>
			<h1 class="font-display text-4xl md:text-6xl font-bold text-lavender-900 leading-tight mb-6">
				–¢–≤–æ—Ä—á–µ—Å–∫–∏–µ
				<span class="text-brand">–º–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å—ã</span>,
				–∫–æ—Ç–æ—Ä—ã–µ –≤–¥–æ—Ö–Ω–æ–≤–ª—è—é—Ç
			</h1>
			<p class="text-lg text-lavender-600 mb-8 leading-relaxed">
				–ö–µ—Ä–∞–º–∏–∫–∞, –ø–∞—Ä—Ñ—é–º–µ—Ä–∏—è, —Ñ–ª–æ—Ä–∏—Å—Ç–∏–∫–∞ –∏ –º–Ω–æ–≥–æ–µ –¥—Ä—É–≥–æ–µ.
				–ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Ç–µ—Å—å –∫ Liberty Bureau –≤ 4 –≥–æ—Ä–æ–¥–∞—Ö –º–∏—Ä–∞.
			</p>
			<div class="flex flex-wrap gap-4">
				<a
					href="/events"
					class="px-8 py-3 bg-brand text-white font-semibold rounded-full hover:bg-lavender-700 transition-colors shadow-lg shadow-brand/25"
				>
					–°–º–æ—Ç—Ä–µ—Ç—å –∏–≤–µ–Ω—Ç—ã
				</a>
				<a
					href="/map"
					class="px-8 py-3 bg-white text-brand font-semibold rounded-full border-2 border-brand/20 hover:border-brand transition-colors"
				>
					–ö–∞—Ä—Ç–∞ —Å–µ—Ç–∏
				</a>
			</div>
		</div>
	</div>

	<!-- Decorative blob -->
	<div class="absolute -top-20 -right-20 w-96 h-96 bg-lavender-200/30 rounded-full blur-3xl"></div>
	<div class="absolute -bottom-20 -left-20 w-72 h-72 bg-lavender-300/20 rounded-full blur-3xl"></div>
</section>

<!-- Categories quick access -->
<section class="max-w-7xl mx-auto px-4 -mt-8 relative z-10">
	<div class="grid grid-cols-2 md:grid-cols-4 gap-3">
		{#each [
			{ emoji: 'üè∫', label: '–ö–µ—Ä–∞–º–∏–∫–∞', cat: 'pottery' },
			{ emoji: 'üå∏', label: '–ü–∞—Ä—Ñ—é–º–µ—Ä–∏—è', cat: 'perfume' },
			{ emoji: 'üïØÔ∏è', label: '–°–≤–µ—á–∏', cat: 'candles' },
			{ emoji: 'üíê', label: '–§–ª–æ—Ä–∏—Å—Ç–∏–∫–∞', cat: 'floristics' }
		] as item}
			<a
				href="/events?category={item.cat}"
				class="flex items-center gap-3 px-5 py-4 bg-white rounded-2xl shadow-sm hover:shadow-md transition-all hover:-translate-y-0.5"
			>
				<span class="text-2xl">{item.emoji}</span>
				<span class="font-medium text-lavender-700">{item.label}</span>
			</a>
		{/each}
	</div>
</section>

<!-- Upcoming Events -->
<section class="max-w-7xl mx-auto px-4 py-16">
	<div class="flex items-end justify-between mb-8">
		<div>
			<p class="text-sm font-medium text-brand mb-1 tracking-wider uppercase">–ë–ª–∏–∂–∞–π—à–∏–µ</p>
			<h2 class="font-display text-3xl font-bold text-lavender-900">–ò–≤–µ–Ω—Ç—ã</h2>
		</div>
		<a href="/events" class="text-sm font-medium text-brand hover:underline">–í—Å–µ –∏–≤–µ–Ω—Ç—ã ‚Üí</a>
	</div>

	<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
		{#each data.events as event}
			<EventCard {event} />
		{/each}
	</div>
</section>

<!-- Cities / Network -->
<section class="max-w-7xl mx-auto px-4 py-16">
	<div class="text-center mb-10">
		<p class="text-sm font-medium text-brand mb-1 tracking-wider uppercase">–ù–∞—à–∞ —Å–µ—Ç—å</p>
		<h2 class="font-display text-3xl font-bold text-lavender-900">–ì–æ—Ä–æ–¥–∞</h2>
		<p class="text-lavender-500 mt-2">–¢–≤–æ—Ä—á–µ—Å–∫–∏–µ —Å—Ç—É–¥–∏–∏ –ø–æ –≤—Å–µ–º—É –º–∏—Ä—É</p>
	</div>

	<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
		{#each data.cities as city}
			<CityCard {city} eventCount={getEventsByCity(city.id).length} />
		{/each}
	</div>
</section>

<!-- Platform Manifest ‚Äî Digital-first messaging -->
<PlatformManifest />

<!-- CTA Banner -->
<section class="max-w-7xl mx-auto px-4 py-16">
	<div class="bg-gradient-to-r from-brand to-lavender-700 rounded-3xl p-8 md:p-12 text-white text-center">
		<h2 class="font-display text-3xl md:text-4xl font-bold mb-4">–•–æ—Ç–∏—Ç–µ –æ—Ç–∫—Ä—ã—Ç—å Liberty –≤ —Å–≤–æ—ë–º –≥–æ—Ä–æ–¥–µ?</h2>
		<p class="text-lavender-200 mb-8 max-w-xl mx-auto">
			–ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Ç–µ—Å—å –∫ —Å–µ—Ç–∏ –∏ –∑–∞–ø—É—Å–∫–∞–π—Ç–µ —Ç–≤–æ—Ä—á–µ—Å–∫–∏–µ –∏–≤–µ–Ω—Ç—ã –ø–æ–¥ –∏–∑–≤–µ—Å—Ç–Ω—ã–º –±—Ä–µ–Ω–¥–æ–º
		</p>
		<a
			href="/franchise"
			class="inline-block px-8 py-3 bg-white text-brand font-semibold rounded-full hover:bg-lavender-100 transition-colors"
		>
			–£–∑–Ω–∞—Ç—å –æ —Ñ—Ä–∞–Ω—à–∏–∑–µ
		</a>
	</div>
</section>
